
<%= render "shared/errors", object: resource %>
<section>
	<div class = "container py-4 ">
		<div class = "row d-flex justify-content-center align-items-center">
			<div class = "col col-xl-8">
				<div class = "card shadow" style = "border-radius: 1rem;">
					<div class = "row g-0 pb-3">
						<div class = "col-md-6 col-lg-5 d-none d-md-block text-center">
							<%= image_tag "update.png", class: "img-fluid", style: "border-radius:10px" %>
							<%= button_to "Delete Account", registration_path(resource_name), data: { confirm: "Are you sure?", turbo_confirm: "Are you sure?" }, method: :delete, class: "btn btn-outline-danger btn-mg" %>
						</div>
						<div class = "col-md-6 col-mg-7 d-flex align-items-center">
								<div class = "card-body p-2 p-mg-5 text-black">
									<%= form_for(resource, as: resource_name, url: registration_path(resource_name), html: { method: :put }) do |f| %>
										<div class = "d-flex align-items-center mb-2 pb-1">
											<span class = "h1 fw-bold mb-0">
												<%= image_tag "bus_logo2.png", class: "form_img" %> 
											</span>
											<span class = "h2 fw-bold mb-0"> Update account</span>
										</div>
										<div class = "form-outline mb-2">
											<%= f.text_field :name, placeholder: "Enter name", required: "",
                                   autofocus: true, class: "form-control form-control-mg" %>
										</div>
										<div class = "form-outline mb-3">
											<%= f.email_field :email, placeholder: "Enter email", required: "", autofocus: true, class: "form-control form-control-mg" %>
											<% if devise_mapping.confirmable? && resource.pending_reconfirmation? %>
												<div>Currently waiting confirmation for: 
													<%= resource.unconfirmed_email %>
												</div>
											<% end %>
										</div>
										<div class = "form-outline mb-3">
											<%= f.password_field :password, placeholder: "Password",
                                           class: "form-control form-control-mg", autocomplete: "new-password" %>   
											<% if @minimum_password_length %>
												<em>(<%= @minimum_password_length %> characters minimum)</em>
											<% end %><br />
										</div>
										<div class = "form-outline mb-3">
											<%= f.password_field :password_confirmation, placeholder: "Confirm password", class: "form-control form-control-mg", autocomplete: "new-password" %>        
										</div>
										<div class = "form-outline mb-3">
											<i>(we need your current password to confirm your changes)</i><br />
											<%= f.password_field :current_password, autocomplete: "current-password", class: "form-control form-control-mg", placeholder: "current password" %>
										</div>
										<% if resource.bus_owner? %>
											<div class = "form-outline mb-3">
												<%= f.text_field :registration_no, placeholder: "Registration no", required: "", class: "form-control form-control-mg" %>        
											</div>
										<% end %>
										<div class = "pt-1 mb-1">
											<%= f.submit "Update Account", class: "btn btn-outline-success btn-mg" %>
										</div>
									<% end %>
								</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</section>